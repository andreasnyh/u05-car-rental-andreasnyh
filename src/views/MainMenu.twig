{% block mainMenu %}
  <style>
    .column {
      width: 20mm;
    }

    .button {
      width: 100%;
    }
  </style>

  <table border>
    <tr>
      <td colspan="8"><h1>Bank MVC Twig</h1></td>
    </tr>
    
    <tr><td colspan="3">
    <form action="/addCustomer" method="post">
      <input type="submit" style="width:100%" value="Add Customer">
    </form>  
    </td></tr>

    {% for customer in customers %}
      <tr>
        <td><b>{{customer.customerNumber}}</b></td>
            <td colspan = "2"><b>{{customer.customerName}}</b></td>

        <td>
          <form method="post" action="/editCustomer/{{customer.customerNumber}}/{{customer.customerName}}">
            <input type="submit" style="width:100%" value="Edit">
          </form>
        </td>

        <td>
          <form method="post" action="/removeCustomer/{{customer.customerNumber}}/{{customer.customerName}}"
                onsubmit="return confirm('Are you sure you want to remove customer {{customer.customerName}}?')">
            <input type="submit" style="width:100%" value="Remove">
          </form>
        </td>

        <td colspan="3">
          <form method="post" action="/addAccount/{{customer.customerNumber}}/{{customer.customerName}}">
            <input type="submit" style="width:100%" value="Add Account">
          </form>
        </td>
      </tr>

      {% for account in customer.accounts %}
        <tr>
          <td></td>
          <td>{{account["accountNumber"]}}</td>
          <td>{{account["accountBalance"]}}</td>

          <!--<td>{{account.accountNumber}}</td>
          <td>{{account.accountBalance}}</td>-->

          <td class="column">
            <form method="post" action="/deposit/{{customer.customerNumber}}/{{customer.customerName}}/{{account.accountNumber}}">
              <input type="submit" style="width:100%" value="Deposit">
            </form>
          </td>

          <td class="column">
            <form method="post" action="/withdraw/{{customer.customerNumber}}/{{customer.customerName}}/{{account.accountNumber}}">
              <input type="submit" style="width:100%" value="Withdraw">
            </form>
          </td>

          <td class="column">
            <form method="post" action="/transfer/{{customer.customerNumber}}/{{customer.customerName}}/{{account.accountNumber}}">
              <input type="submit" style="width:100%" value="Transfer">
            </form>
          </td>

          <td class="column">
            <form method="post" action="/viewAccount/{{customer.customerNumber}}/{{customer.customerName}}/{{account.accountNumber}}">
              <input type="submit" style="width:100%" value="View">
            </form>
          </td>

          <td class="column">
            <form method="post" action="/removeAccount/{{customer.customerNumber}}/{{customer.customerName}}/{{account.accountNumber}}"
                onsubmit="return confirm('Are you sure you want to remove account {{account.accountNumber}}?')">
              <input type="submit" style="width:100%" value="Remove">
            </form>
          </td>
        </tr>
      {% endfor %}
    {% endfor %}
  </table>
{% endblock %}